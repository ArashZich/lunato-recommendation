# سیستم تحلیل چهره و پیشنهاد فریم عینک

این پروژه یک سرویس بک‌اند برای تحلیل چهره و پیشنهاد فریم عینک مناسب بر اساس شکل صورت است.

## ویژگی‌ها

- تحلیل چهره با استفاده از OpenCV و scikit-learn
- پیشنهاد فریم عینک مناسب بر اساس شکل صورت
- استفاده از ۳ کارگر Celery برای پردازش موازی
- جمع‌آوری داده‌های تحلیلی از کاربران
- داکرایز شده برای استقرار آسان

## پیش‌نیازها

- Docker و Docker Compose
- Python 3.8+

## راه‌اندازی

1. ابتدا پروژه را کلون کنید:
```bash
git clone <repository-url>
cd eyeglass-recommendation-system
```

2. فایل‌های محیطی را تنظیم کنید:
```bash
cp .env.example .env
# فایل .env را ویرایش کرده و مقادیر مورد نیاز را وارد کنید
```

3. با استفاده از Docker Compose پروژه را اجرا کنید:
```bash
docker-compose up -d
```

4. به API در آدرس زیر دسترسی پیدا کنید:
```
http://localhost:8000/docs
```

## معماری سیستم

- **FastAPI**: برای ارائه‌ی API
- **Celery**: برای پردازش موازی
- **MongoDB**: برای ذخیره‌سازی داده‌ها
- **OpenCV**: برای تشخیص و تحلیل چهره
- **scikit-learn**: برای الگوریتم‌های یادگیری ماشین
- **WooCommerce API**: برای دسترسی به داده‌های محصولات

## ساختار پروژه

```
eyeglass-recommendation-system/
│
├── api/                  # اپلیکیشن FastAPI
│   ├── schemas/          # مدل‌های Pydantic
│   ├── routes/           # مسیرهای API
│   ├── services/         # سرویس‌ها
│   └── utils/            # توابع کمکی
│
├── celery_app/           # تنظیمات Celery
│   └── tasks/            # تسک‌های Celery
│
├── models/               # مدل‌های یادگیری ماشین
│   └── training/         # اسکریپت‌های آموزش مدل
│
├── database/             # تنظیمات پایگاه داده
│   ├── models/           # مدل‌های پایگاه داده
│   └── repositories/     # عملیات پایگاه داده
│
├── tests/                # تست‌ها
│
└── docker/               # تنظیمات داکر
```

## API Endpoints

### تحلیل چهره
- `POST /api/v1/analyze`: آپلود تصویر چهره و دریافت تحلیل

### پیشنهاد فریم
- `GET /api/v1/recommendations`: دریافت پیشنهادها بر اساس تحلیل چهره

### تحلیل‌های کاربران
- `GET /api/v1/analytics`: دریافت تحلیل‌های کاربران

## مجوز

این پروژه تحت مجوز [MIT](LICENSE) منتشر شده است.